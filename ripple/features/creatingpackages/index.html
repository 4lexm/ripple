<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>
    <title>
      Creating packages | ripple
    </title><meta charset="utf-8" />
<meta content="FubuWorld" name="description" />
<meta content="FubuWorld" name="author" />



<link type="text/css" rel="stylesheet" href="/ripple/_content/styles/sons-of-obsidian.css" />
<link type="text/css" rel="stylesheet" href="/ripple/_content/styles/toastr.css" />
<link type="text/css" rel="stylesheet" href="/ripple/_content/styles/twitter/bootstrap.min.css" />
<link type="text/css" rel="stylesheet" href="/ripple/_content/styles/twitter/bootstrap-responsive.min.css" />
<link type="text/css" rel="stylesheet" href="/ripple/_content/styles/toastr-responsive.css" />
<link type="text/css" rel="stylesheet" href="/ripple/_content/styles/fubuworld.core.css" />

<link href="http://fonts.googleapis.com/css?family=Oswald:400,300" rel="stylesheet" type="text/css" media="screen" />
  </head>
  <body data-target=".bs-docs-sidebar" data-spy="scroll">
    <div class="container">
      
      

<div class="row">
  <div class="span6">
    <p class="logo">
      <a title="Fubu" href="/ripple/topics"><span>Fubu</span></a>
      <a class="project-logo" title="Fubu-inspired dependency management" href="/ripple/ripple"><span>ripple</span></a>
    </p>
  </div>
  <div class="span6">
    <div class="top-header text-right">
      <em>
        <em><a href="https://groups.google.com/forum/?fromgroups#%21forum/ripple-dev">Join our vibrant mailing list</a></em>
      </em>
      <div class="social">
        <a class="ico-github" href="https://github.com/DarthFubuMVC/ripple"><img src="/ripple/_content/images/github-icon.png" alt="Github" /></a>
      </div>
    </div>
  </div>
</div>

      <div class="navbar" id="nav-follow">
        <div class="navbar-inner">
          <div class="container">
            <ul class="nav"><li><a data-key="index" href="/ripple/ripple/index">ripple »</a></li><li><a data-key="index" href="/ripple/ripple/features">Features »</a></li><li class="active"><a data-key="CreatingPackages" href="/ripple/ripple/features/creatingpackages">Creating packages »</a></li></ul>
<ul style="float:right" class="nav"><li><a title="Local" href="/ripple/ripple/features/local">Previous</a></li><li><a title="Commands" href="/ripple/ripple/commands">Next</a></li></ul>
          </div>
        </div>
      </div>
      <hr />
      <div class="row">
        

        <div class="row">
          <div class="span3 sidebar">
            <h3 class="half-margin" style="display: none;">Topics</h3>
            <ul class="nav nav-tabs nav-stacked affix-top" id="page-toc">
            </ul>
            <br />
            <h3 class="no-margin">Next</h3>
<p><a data-key="index" href="/ripple/ripple/commands">Commands</a></p>
<h3 class="no-margin">Previous</h3>
<p><a data-key="Local" href="/ripple/ripple/features/local">Local</a></p>
          </div>
          <div class="span9">
            <h1 class="no-margin">Creating packages</h1><hr class="header-line" />
             <!--Title: Creating packages -->

<p class="margin">
    One of the hardest parts about maintaining a large number of dependencies is keeping your versioning sane. You generally have a fast feedback cycle with your dependencies
    in your build, but the nugets that you generate aren't always kept up to date. Ripple provides a mechanism for auto-generating the dependency elements in your nuspec files while generating files.
</p>
<h3>File locations</h3>
<p class="margin">
    Your <code>ripple.code</code> file has a <code>NugetSpecFolder</code> element that can be used to specify the location of your nuspec files. The default value is <code>packaging/nuget</code>. All files
    found in this location are used when the <code>create-packages</code> command is invoked.
</p>

<h3>Generating Dependencies</h3>
<p class="margin">
    During generation, nuspec files are matched to projects by one of the following: 
    1) the name of the nuspec is a case-insensitive match for a project (E.g., fubumvc.core.nuspec =&gt; fubumvc.core.csproj) or 2) a mapping has been specified in your <code>ripple.config</code> file.
</p>
<p class="margin">
    Once your projects and nuspec files are correlated, the generator determines what dependencies the project has (via the <code>ripple.dependencies.config</code> file). Each dependency is then written to the file
    as long as it does not explicitly exist in the file. This is important to note. If you wish to generate all dependencies except for one, you can simply define that element in your nuspec file and it will remain untouched.
</p>

<h3>Generated Version Constraints</h3>
<p class="half-margin">
    The generation of version constraints is configured two ways: a) solution-wide and b) individually for a dependency (overriding the solution default). A constraint is defined
    by using <code>Version tokens</code>. The following tokens are available:
</p>

<ul class="margin">
    <li><code>Current</code>: The current/local version of the dependency</li>
    <li><code>NextMinor</code>: The next minor SemVer version (e.g., 1.0.0.0 =&gt; 1.1.0.0)</li>
    <li><code>NextMajor</code>: The next major SemVer version (e.g., 1.0.0.0 =&gt; 2.0.0.0)</li>
</ul>

<p class="margin">The default Float constraint is <code>Current</code>. This means that floated dependencies define a dependency with a version constraint like: <code>version="1.1.0.0"</code>.</p>

<p class="margin">The default Fixed constraint is <code>Current,NextMajor</code>. This means that floated dependencies define a dependency with a version constraint like: <code>version="[1.1.0.0,2.0.0.0)"</code>.</p>

<p class="margin">Projects that reference other published projects (i.e., other nugets) use the configured Float constraint.</p>

<p class="margin">To configure the solution-level defaults, you can modify the <code>DefaultFloatConstraint</code> and <code>DefaultFixConstraint</code> properties. 
These properties control the generation of versions for Float and Fixed dependencies, respectively.
</p>

<h3>Mapping Projects to Nuspec files</h3>
<p class="margin">The following is an example <code>ripple.config</code> utilizing mappings:</p>
<pre class="prettyprint lang-config linenums:1 prettyprinted" data-linenums="1" style=""><ol class="linenums"><li value="1" class="L0"><span class="pun">&lt;?</span><span class="pln">xml version</span><span class="pun">=</span><span class="str">"1.0"</span><span class="pun">?&gt;</span></li><li class="L1"><span class="tag">&lt;ripple</span><span class="pln"> </span><span class="atn">xmlns:xsd</span><span class="pun">=</span><span class="atv">"http://www.w3.org/2001/XMLSchema"</span><span class="pln"> </span><span class="atn">xmlns:xsi</span><span class="pun">=</span><span class="atv">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="tag">&gt;</span></li><li class="L2"><span class="pln">  </span><span class="tag">&lt;Name&gt;</span><span class="pln">Sample</span><span class="tag">&lt;/Name&gt;</span></li><li class="L3"><span class="pln">  </span><span class="tag">&lt;NugetSpecFolder&gt;</span><span class="pln">packaging/nuget</span><span class="tag">&lt;/NugetSpecFolder&gt;</span></li><li class="L4"><span class="pln">  </span><span class="tag">&lt;SourceFolder&gt;</span><span class="pln">src</span><span class="tag">&lt;/SourceFolder&gt;</span></li><li class="L5"><span class="pln">  </span><span class="tag">&lt;BuildCommand&gt;</span><span class="pln">rake</span><span class="tag">&lt;/BuildCommand&gt;</span></li><li class="L6"><span class="pln">  </span><span class="tag">&lt;FastBuildCommand&gt;</span><span class="pln">rake compile</span><span class="tag">&lt;/FastBuildCommand&gt;</span></li><li class="L7"><span class="pln">  </span><span class="tag">&lt;Feeds&gt;</span></li><li class="L8"><span class="pln">    </span><span class="tag">&lt;Feed</span><span class="pln"> </span><span class="atn">Url</span><span class="pun">=</span><span class="atv">"http://build.fubu-project.org/guestAuth/app/nuget/v1/FeedService.svc"</span><span class="pln"> </span><span class="atn">Mode</span><span class="pun">=</span><span class="atv">"Float"</span><span class="pln"> </span><span class="atn">Stability</span><span class="pun">=</span><span class="atv">"ReleasedOnly"</span><span class="pln"> </span><span class="tag">/&gt;</span></li><li class="L9"><span class="pln">    </span><span class="tag">&lt;Feed</span><span class="pln"> </span><span class="atn">Url</span><span class="pun">=</span><span class="atv">"http://nuget.org/api/v2"</span><span class="pln"> </span><span class="atn">Mode</span><span class="pun">=</span><span class="atv">"Fixed"</span><span class="pln"> </span><span class="atn">Stability</span><span class="pun">=</span><span class="atv">"ReleasedOnly"</span><span class="pln"> </span><span class="tag">/&gt;</span></li><li class="L0"><span class="pln">  </span><span class="tag">&lt;/Feeds&gt;</span></li><li class="L1"><span class="pln">  </span><span class="tag">&lt;Nugets&gt;</span></li><li class="L2"><span class="pln">    </span><span class="tag">&lt;Dependency</span><span class="pln"> </span><span class="atn">Name</span><span class="pun">=</span><span class="atv">"FubuCore"</span><span class="pln"> </span><span class="atn">Version</span><span class="pun">=</span><span class="atv">"1.1.0.242"</span><span class="pln"> </span><span class="atn">Mode</span><span class="pun">=</span><span class="atv">"Float"</span><span class="pln"> </span><span class="tag">/&gt;</span></li><li class="L3"><span class="pln">  </span><span class="tag">&lt;/Nugets&gt;</span></li><li class="L4"><span class="pln">  </span><span class="tag">&lt;Groups</span><span class="pln"> </span><span class="tag">/&gt;</span></li><li class="L5"><span class="pln">  </span><span class="tag">&lt;Nuspecs&gt;</span></li><li class="L6"><span class="pln">    </span><span class="tag">&lt;Nuspec</span><span class="pln"> </span><span class="atn">File</span><span class="pun">=</span><span class="atv">"Something.nuspec"</span><span class="pln"> </span><span class="atn">Project</span><span class="pun">=</span><span class="atv">"MyProject"</span><span class="pln"> </span><span class="tag">/&gt;</span></li><li class="L7"><span class="pln">  </span><span class="tag">&lt;/Nuspecs&gt;</span></li><li class="L8"><span class="tag">&lt;/ripple&gt;</span></li></ol></pre>
            </div>
        </div>
      </div>
    </div>
    <script src="/ripple/_content/scripts/jquery-1.8.2.min.js" type="text/javascript"></script>
<script src="/ripple/_content/scripts/prettify.js" type="text/javascript"></script>
<script src="/ripple/_content/scripts/bootstrap-prettify.js" type="text/javascript"></script>
<script src="/ripple/_content/scripts/fubuworld.js" type="text/javascript"></script>
<script src="/ripple/_content/scripts/toastr.js" type="text/javascript"></script>
<script src="/ripple/_content/scripts/twitter/bootstrap.min.js" type="text/javascript"></script>
<script src="/ripple/_content/scripts/fubudocs-tools.js" type="text/javascript"></script>
<script src="/ripple/_content/scripts/twitter/bootstrap-affix.js" type="text/javascript"></script>
<script src="/ripple/_content/scripts/topics.js" type="text/javascript"></script>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
    </p>
    <p>
      Powered by <a href="http://github.com/DarthFubuMVC/FubuWorld">FubuDocs</a>.
    </p>
    <p>
      Code licensed under the <a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">Apache License v2.0</a>.
    </p>
  </div>
</footer>
  
</body></html>